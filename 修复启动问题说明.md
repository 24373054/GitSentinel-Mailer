# 修复前端启动问题

## 问题描述

前端启动时出现以下错误：
```
Invalid options object. Dev Server has been initialized using an options object that does not match the API schema.
 - options.allowedHosts[0] should be a non-empty string.
```

这是webpack-dev-server配置兼容性问题。

## 解决方案

### 方案一：使用修复后的启动脚本（推荐）

我已经更新了启动脚本，现在可以直接使用：

```bash
# 重新运行开发模式
.\start-dev.bat
```

启动脚本已添加必要的环境变量来跳过预检查。

### 方案二：重新安装依赖

如果方案一不起作用，请执行：

```bash
# 1. 删除前端依赖
cd client
rd /s /q node_modules

# 2. 重新安装
npm install

# 3. 返回根目录
cd ..

# 4. 启动
.\start-dev.bat
```

### 方案三：分别启动前后端

如果仍有问题，可以分别启动：

**启动后端（终端1）：**
```bash
.\start-server.bat
```

**启动前端（终端2）：**
```bash
.\start-frontend.bat
```

### 方案四：手动设置环境变量

如果使用命令行启动：

```bash
# 设置环境变量
set SKIP_PREFLIGHT_CHECK=true
set BROWSER=none

# 启动
npm run dev
```

## 验证解决

成功启动后，您应该看到：

**后端：**
```
服务器运行在端口 5000
数据库连接成功
数据表初始化成功
```

**前端：**
```
Compiled successfully!
webpack compiled with 0 warnings

You can now view github-monitor-client in the browser.

  Local:            http://localhost:3000
```

## 其他提示

1. **确保端口未被占用**
   - 前端：3000
   - 后端：5000

2. **检查Node.js版本**
   ```bash
   node --version
   # 建议使用 v14.0.0 或更高版本
   ```

3. **清除npm缓存**（如果问题持续）
   ```bash
   npm cache clean --force
   ```

4. **更新npm**
   ```bash
   npm install -g npm@latest
   ```

## 如果问题仍未解决

请尝试以下步骤：

1. 完全删除 `node_modules` 和 `client/node_modules`
2. 删除 `package-lock.json` 和 `client/package-lock.json`
3. 重新运行 `.\install.bat`

## 联系支持

如果以上方法都无法解决，请提供：
- Node.js版本
- npm版本
- 完整的错误信息截图
- 操作系统信息

